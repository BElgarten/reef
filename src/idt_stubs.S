#define IDT_STUB_NAME(n) idt_stub ## n
#define IDT_STUB(n) \
IDT_STUB_NAME(n): \
	movq $n, %rax; \
	jmp .
.section .text
IDT_STUB(0)
IDT_STUB(1)
IDT_STUB(2)
IDT_STUB(3)
IDT_STUB(4)
IDT_STUB(5)
IDT_STUB(6)
IDT_STUB(7)
IDT_STUB(8)
IDT_STUB(9)
IDT_STUB(10)
IDT_STUB(11)
IDT_STUB(12)
IDT_STUB(13)
IDT_STUB(14)
IDT_STUB(15)
IDT_STUB(16)
IDT_STUB(17)
IDT_STUB(18)
IDT_STUB(19)
IDT_STUB(20)
IDT_STUB(21)
IDT_STUB(22)
IDT_STUB(23)
IDT_STUB(24)
IDT_STUB(25)
IDT_STUB(26)
IDT_STUB(27)
IDT_STUB(28)
IDT_STUB(29)
IDT_STUB(30)
IDT_STUB(31)


.section .data
.global idt_stubs
idt_stubs:
.quad IDT_STUB_NAME(0)
.quad IDT_STUB_NAME(1)
.quad IDT_STUB_NAME(2)
.quad IDT_STUB_NAME(3)
.quad IDT_STUB_NAME(4)
.quad IDT_STUB_NAME(5)
.quad IDT_STUB_NAME(6)
.quad IDT_STUB_NAME(7)
.quad IDT_STUB_NAME(8)
.quad IDT_STUB_NAME(9)
.quad IDT_STUB_NAME(10)
.quad IDT_STUB_NAME(11)
.quad IDT_STUB_NAME(12)
.quad IDT_STUB_NAME(13)
.quad IDT_STUB_NAME(14)
.quad IDT_STUB_NAME(15)
.quad IDT_STUB_NAME(16)
.quad IDT_STUB_NAME(17)
.quad IDT_STUB_NAME(18)
.quad IDT_STUB_NAME(19)
.quad IDT_STUB_NAME(20)
.quad IDT_STUB_NAME(21)
.quad IDT_STUB_NAME(22)
.quad IDT_STUB_NAME(23)
.quad IDT_STUB_NAME(24)
.quad IDT_STUB_NAME(25)
.quad IDT_STUB_NAME(26)
.quad IDT_STUB_NAME(27)
.quad IDT_STUB_NAME(28)
.quad IDT_STUB_NAME(29)
.quad IDT_STUB_NAME(30)
.quad IDT_STUB_NAME(31)
